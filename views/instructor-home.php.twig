{% extends "mainTemplate.php.twig" %}
{% block pageTitle %}
{{ include('main/mainTitle.php.twig') }}
{% endblock %}
{% block content %}
<div class="page instructor-home">
    <div style="margin-bottom: 30px;">
        <p class="lead">{%trans%}main-title.lead2{%endtrans%}</p>
    </div>
    <section class="cards">
        <!-- Questions -->
        {% embed "components/dashboard-card.php.twig" with { amount: questions|length } %}
            {% block title %}
                Questions
            {% endblock %}

            {% block icon %}
                <i class="fa fa-file-code-o" style="font-size: 20px;" aria-hidden="true"></i>
            {% endblock %}
            {% block body %}
                <div>
                    <a class="hover-underline-animation link-with-icon" href="create-question.php">
                        <span>
                            Create a question
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
                <div>
                    <a class="hover-underline-animation link-with-icon" href="questions-list.php">
                        <span>
                            Questions list
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
                <div>
                    <a class="hover-underline-animation link-with-icon" href="questions-management.php">
                        <span>
                            Import from Authorkit
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
                <div>
                    <a class="hover-underline-animation link-with-icon" href="import-from-repo.php">
                        <span>
                            Import from Codetest
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
            {% endblock %}
        {% endembed %}
        <!-- Feedbacks -->
        {% embed "components/dashboard-card.php.twig" with {amount: feedbacksCount} %}
            {% block title %}
                Feedbacks
            {% endblock %}

            {% block icon %}
                <i class="fa fa-comments" aria-hidden="true"></i>
            {% endblock %}
            {% block body %}
                <div>
                    <a class="hover-underline-animation link-with-icon" href="feedback-question.php">
                        <span>
                            By question
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
                <div>
                    <a class="hover-underline-animation link-with-icon" href="feedback-student.php">
                        <span>
                            By user
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
            {% endblock %}
        {% endembed %}
        <!-- Results -->
        {% embed "components/dashboard-card.php.twig" %}
            {% block title %}
                Results
            {% endblock %}

            {% block icon %}
                <i class="fas fa-poll-h" aria-hidden="true"></i>
            {% endblock %}
            {% block body %}
                <div>
                    <a class="hover-underline-animation link-with-icon" href="results-student.php">
                        <span>
                            By student
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
                <div>
                    <a class="hover-underline-animation link-with-icon" href="results-question.php">
                        <span>
                            By question
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
                <div>
                    <a class="hover-underline-animation link-with-icon" href="results-download.php">
                        <span>
                            Download results
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
            {% endblock %}
        {% endembed %}
        <!-- Grade -->
        {% embed "components/dashboard-card.php.twig" with { amount: gradesCount, cardLink: 'grade.php' } %}
            {% block title %}
                Grades
            {% endblock %}

            {% block icon %}
                <i class="fas fa-clipboard-check" aria-hidden="true"></i>
            {% endblock %}
            {% block body %}
                <div class="grades-card-body">
                    <div>
                        <span>
                            Average:
                        </span>
                        <span>
                            {{ gradesMap['avg']|number_format(2) }}
                        </span>
                    </div>
                    <div>
                        <span>
                            Max:
                        </span>
                        <span>
                            {{ gradesMap['max']|number_format(2) }}
                        </span>
                    </div>
                    <div>
                        <span>
                            Min:
                        </span>
                        <span>
                            {{ gradesMap['min']|number_format(2) }}
                        </span>
                    </div>
                </div>
            {% endblock %}
        {% endembed %}
        <!-- Import/Export -->
        {% embed "components/dashboard-card.php.twig" %}
            {% block title %}
                Import / Export context
            {% endblock %}

            {% block icon %}
                <i class="fa fa-archive" aria-hidden="true"></i>
            {% endblock %}
            {% block body %}
                <div>
                    <a class="hover-underline-animation link-with-icon" href="feedback-question.php">
                        <span>
                            Export your current context to a ZIP file
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
                <div>
                    <a class="hover-underline-animation link-with-icon" href="feedback-student.php">
                        <span>
                            Import a ZIP file to your current context
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
            {% endblock %}
        {% endembed %}
        <!-- Student view -->
        {% embed "components/dashboard-card.php.twig" with {cardLink: 'student-home.php'} %}
            {% block title %}
                Preview as student
            {% endblock %}

            {% block icon %}
                <i class="fas fa-user-graduate" aria-hidden="true"></i>
            {% endblock %}
            {% block body %}
                <div style="color: #0059b3;">
                    Try out and preview your questions before sending them to the students
                </div>
            {% endblock %}
        {% endembed %}
        <div class="dashboard-card hidden">
            <div class="dashboard-card__header">
                <div class="dashboard-card__header__icon">
                    <i class="fa fa-comments" aria-hidden="true"></i>
                </div>
                <div class="dashboard-card__header__title">
                    Feedback
                </div>
                <div class="dashboard-card__header__append numeric">
                    24
                </div>
            </div>
            <div class="dashboard-card__body">
                <div>
                    <a class="hover-underline-animation link-with-icon" href="feedback-question.php">
                        <span>
                            By question
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
                <div>
                    <a class="hover-underline-animation link-with-icon" href="feedback-student.php">
                        <span>
                            By user
                        </span>
                        <span>
                            <i class="fa fa-arrow-circle-right" aria-hidden="true"></i>
                        </span>
                    </a>
                </div>
            </div>
        </div>
    </section>
</div>

{{ include('question/createModal.php.twig') }}
{{ include('question/import/importModal.php.twig') }}
{% endblock %}
